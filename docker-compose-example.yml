services:
  mcp-searxng:
    build:
      context: .
      dockerfile: docker/Dockerfile
      target: production
    container_name: mcp-searxng-server
    restart: unless-stopped
    ports:
      - "${MCP_PORT:-3000}:3000"
    environment:
      - SEARXNG_URL=${SEARXNG_URL:-https://searxng.example.com}
      - SEARXNG_TIMEOUT=${SEARXNG_TIMEOUT:-30}
      - SEARXNG_MAX_RESULTS=${SEARXNG_MAX_RESULTS:-10}
      - MCP_TRANSPORT=${MCP_TRANSPORT:-sse}
      - MCP_PORT=3000
      - LOG_LEVEL=${LOG_LEVEL:-info}
    networks:
      - mcp-network

networks:
  mcp-network:
    driver: bridge
